<!-- prettier-ignore -->
{% extends "layout.html" %}


{% block title %}
{{ title }}
{% endblock %}


{% block body %}

<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Mã môn học</th>
      <th scope="col">Tên môn học</th>
      <th scope="col">Số tín chỉc</th>
      <th scope="col">Điểm C</th>
      <th scope="col">Điểm B</th>
      <th scope="col">Điểm A</th>
      <th scope="col">Điểm tổng kết học kì</th>
    </tr>
  </thead>
  <tbody>
    {% for transcript in transcripts %}
    <tr>
      <th scope="row">{{loop.index}}</th>
      <td>{{transcript.subject_id}}</td>
      {% for subject in subjects %}
        {% if subject.id == transcript.subject_id %}
        <td>{{subject.name}}</td>
        <td>{{subject.credit_number}}</td>
        {% endif %}{% endfor %}
      <td>{{transcript.score_C}}</td>
      <td>{{transcript.score_B}}</td>
      <td>{{transcript.score_A}}</td>
      <td>{{transcript.summation_points}}</td>
      <td>
        <a
          href="{{url_for('update_transcripts', student_id = student.id, transcript_id = transcript.id)}}"
          class="btn btn-primary"
          role="button"
          >Nhập điểm
        </a>
      </td>
      <td>
        <a
          href="{{url_for('delete_transscripts', student_id = student.id, transcript_id = transcript.id)}}"
          class="btn btn-danger"
          role="button"
          >Xóa
        </a>
      </td>
    </tr>
    {% else %}
    <div>Sinh viên chưa có môn học nào</div>
    {% endfor %}
  </tbody>
</table>

<div class="mt-3">
  <a
    href="{{url_for('create_transcripts', student_id = student.id)}}"
    class="btn btn-outline-primary"
    role="button"
    >Thêm môn học cho sinh viên
  </a>
  <a
    href="{{url_for('view_list_transcripts')}}"
    class="btn btn-outline-secondary"
    role="button"
    >Quay lại
  </a>
</div>

<!-- prettier-ignore -->
{% with messages = get_flashed_messages() %}
<input type="hidden" id="hiddenElement" value="{{messages[0]}}"></input>
{% endwith %}
<script>
  alert(document.getElementById('hiddenElement').value);
</script>
{% endblock %}
